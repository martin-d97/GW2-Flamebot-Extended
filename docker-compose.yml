version: '3.8'

services:
  flamebot:
    build: .
    container_name: flamebot
    env_file:
      - .env
    restart: unless-stopped
    # Run the bot entrypoint
    # Start the keep-alive HTTP server (binds a port) and the Discord bot.
    # Keep the Discord bot in foreground so the container remains running.
    command: sh -c "python keep_alive.py & python discord_bot.py"
    ports:
      - "8080:8080"
    # Uncomment and use a volume if you want to edit code on the host and reflect changes in container
    # volumes:
    #   - ./:/app
